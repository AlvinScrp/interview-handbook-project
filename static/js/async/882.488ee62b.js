(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["882"],{22855:function(n,e,t){"use strict";n.exports=t.p+"static/image/01.963dbb38.png"},2015:function(n,e,t){"use strict";n.exports=t.p+"static/image/02.77120fbc.png"},65808:function(n,e,t){"use strict";n.exports=t.p+"static/image/03.699a793a.png"},78479:function(n,e,t){"use strict";n.exports=t.p+"static/image/04.3f354244.png"},13692:function(n,e,t){"use strict";n.exports=t.p+"static/image/05.78963211.png"},84249:function(n,e,t){"use strict";n.exports=t.p+"static/image/06.a586323e.png"},62721:function(n,e,t){"use strict";n.exports=t.p+"static/image/07.e23c8b96.png"},47006:function(n,e,t){"use strict";n.exports=t.p+"static/image/08.aea3a8b9.png"},97974:function(n,e,t){"use strict";n.exports=t.p+"static/image/09.d8fb6bca.png"},73027:function(n,e,t){"use strict";n.exports=t.p+"static/image/10.1d01e9e1.png"},8436:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return j}});var r=t("69051"),i=t("72525"),s=t("73027"),a=t("47006"),o=t("97974"),l=t("22855"),c=t("62721"),d=t("84249"),h=t("13692"),p=t("78479"),u=t("65808"),x=t("2015");function m(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",ul:"ul",li:"li",p:"p",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",img:"img",h3:"h3",blockquote:"blockquote",pre:"pre",code:"code"},(0,i.useMDXComponents)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"\u9762\u8BD5\u5B9D\u5178app-\u901A\u7528\u8BBE\u65BD",children:["\u9762\u8BD5\u5B9D\u5178APP-\u901A\u7528\u8BBE\u65BD",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9762\u8BD5\u5B9D\u5178app-\u901A\u7528\u8BBE\u65BD",children:"#"})]}),"\n",(0,r.jsxs)(e.h2,{id:"\u9879\u76EE\u7269\u6599",children:["\u9879\u76EE\u7269\u6599",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9879\u76EE\u7269\u6599",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u53C2\u8003\u8BBE\u8BA1"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u3010\u817E\u8BAF CoDesign\u3011\u9762\u8BD5\u5B9D\u5178 ",(0,r.jsx)(e.a,{href:"https://codesign.qq.com/s/2kY5j3LVeb9ExNd",target:"_blank",rel:"noopener noreferrer",children:"https://codesign.qq.com/s/2kY5j3LVeb9ExNd"})," \u8BBF\u95EE\u5BC6\u7801\uFF1A2YDD"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u63A5\u53E3\u6587\u6863"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u3010apifox\u3011\u9762\u8BD5\u5B9D\u5178 ",(0,r.jsx)(e.a,{href:"https://apifox.com/apidoc/shared-31e6a8d7-316a-4c5a-83c1-e5c7a2c343bf",target:"_blank",rel:"noopener noreferrer",children:"https://apifox.com/apidoc/shared-31e6a8d7-316a-4c5a-83c1-e5c7a2c343bf"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6548\u679C\u4F8B\u56FE"}),"\n"]}),"\n",(0,r.jsxs)(e.table,{children:["\n",(0,r.jsxs)(e.thead,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.th,{children:"\u767B\u5F55"}),"\n",(0,r.jsx)(e.th,{children:"\u9996\u9875"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.tbody,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:x,width:"320"})}),"\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:u,width:"320"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.table,{children:["\n",(0,r.jsxs)(e.thead,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.th,{children:"\u6211\u7684"}),"\n",(0,r.jsx)(e.th,{children:"\u6253\u5361"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.tbody,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:p,width:"320"})}),"\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:h,width:"320"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.table,{children:["\n",(0,r.jsxs)(e.thead,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.th,{children:"\u9762\u8BD5\u9898"}),"\n",(0,r.jsx)(e.th,{children:"\u5B66\u4E60\u65F6\u95F4"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.tbody,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:d,width:"320"})}),"\n",(0,r.jsx)(e.td,{children:(0,r.jsx)("img",{src:c,width:"320"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"\u57FA\u7840\u80FD\u529B",children:["\u57FA\u7840\u80FD\u529B",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u57FA\u7840\u80FD\u529B",children:"#"})]}),"\n",(0,r.jsxs)(e.h3,{id:"1-\u521B\u5EFA\u9879\u76EE",children:["1. \u521B\u5EFA\u9879\u76EE",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#1-\u521B\u5EFA\u9879\u76EE",children:"#"})]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u521B\u5EFA\u9879\u76EE\uFF0C\u53C2\u8003\u534E\u4E3A Codelabs \u4F18\u79C0\u6848\u4F8B\u7ED3\u5408\u9879\u76EE\u81EA\u8EAB\u60C5\u51B5\u5BF9\u9879\u76EE\u7ED3\u6784\u8FDB\u884C\u7EF4\u62A4"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u521B\u5EFA\u9879\u76EE"}),"\n",(0,r.jsx)("img",{src:l,width:"600"}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u51C6\u5907\u597D\u9879\u76EE\u7ED3\u6784"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"ets\n\u251C\u2500\u2500 common                      // \u901A\u7528\u6A21\u5757\n\u2502\xa0\xa0 \u251C\u2500\u2500 components              // - \u901A\u7528\u7EC4\u4EF6\n\u2502\xa0\xa0 \u251C\u2500\u2500 constants               // - \u5E38\u91CF\u6570\u636E\n\u2502\xa0\xa0 \u251C\u2500\u2500 images                  // - \u56FE\u7247\u8D44\u6E90\n\u2502\xa0\xa0 \u2514\u2500\u2500 utils                   // - \u5DE5\u5177\u7C7B\n\u251C\u2500\u2500 entryability                // \u5165\u53E3UIAbility\n\u2502\xa0\xa0 \u2514\u2500\u2500 EntryAbility.ts\n\u251C\u2500\u2500 models                      // - \u6570\u636E\u6A21\u578B\n\u251C\u2500\u2500 pages                       // - \u9875\u9762\u7EC4\u4EF6\n\u2502\xa0\xa0 \u2514\u2500\u2500 Index.ets\n\u2514\u2500\u2500 views                       // - \u9875\u9762\u5BF9\u5E94\u81EA\u5B9A\u4E49\u7EC4\u4EF6\n    \u2514\u2500\u2500 Index\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"2-\u65E5\u5FD7\u5DE5\u5177\u7C7B",children:["2. \u65E5\u5FD7\u5DE5\u5177\u7C7B",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#2-\u65E5\u5FD7\u5DE5\u5177\u7C7B",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u5C01\u88C5 logger \u5DE5\u5177\u7C7B"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="common/utils/Logger.ts"',children:"import hilog from '@ohos.hilog'\n\nconst DOMAIN = 0xFF00\nconst PREFIX = 'INTERVIEW'\nconst FORMAT = '%{public}s, %{public}s'\n\nexport class Logger {\n  static debug(...args: string[]) {\n    hilog.debug(DOMAIN, PREFIX, FORMAT, args)\n  }\n\n  static info(...args: string[]) {\n    hilog.info(DOMAIN, PREFIX, FORMAT, args)\n  }\n\n  static warn(...args: string[]) {\n    hilog.warn(DOMAIN, PREFIX, FORMAT, args)\n  }\n\n  static error(...args: string[]) {\n    hilog.error(DOMAIN, PREFIX, FORMAT, args)\n  }\n\n  static fatal(...args: string[]) {\n    hilog.fatal(DOMAIN, PREFIX, FORMAT, args)\n  }\n\n  static isLoggable(level: hilog.LogLevel) {\n    return hilog.isLoggable(DOMAIN, PREFIX, level)\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u4FEE\u6539 entryAbility \u7684\u65E5\u5FD7\u6253\u5370"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="entryAbility.ts"',children:"import UIAbility from '@ohos.app.ability.UIAbility';\nimport window from '@ohos.window';\nimport { Logger } from '../common/utils/Logger';\n\nexport default class EntryAbility extends UIAbility {\n  onCreate(want, launchParam) {\n    Logger.info('Ability onCreate')\n  }\n\n  onDestroy() {\n    Logger.info('Ability onDestroy')\n  }\n\n  onWindowStageCreate(windowStage: window.WindowStage) {\n    // Main window is created, set main page for this ability\n    Logger.info('Ability onWindowStageCreate')\n\n    windowStage.loadContent('pages/Index', (err, data) => {\n      if (err.code) {\n        Logger.info('Failed to load the content', JSON.stringify(err) ?? '')\n        return;\n      }\n      Logger.info('Succeeded in loading the content', JSON.stringify(data) ?? '');\n    });\n  }\n\n  onWindowStageDestroy() {\n    // Main window is destroyed, release UI related resources\n    Logger.info( 'Ability onWindowStageDestroy');\n  }\n\n  onForeground() {\n    // Ability has brought to foreground\n    Logger.info('Ability onForeground');\n  }\n\n  onBackground() {\n    // Ability has back to background\n    Logger.info('Ability onBackground');\n  }\n} \n"})}),"\n",(0,r.jsxs)(e.h3,{id:"3-\u8BBF\u95EE\u6743\u9650\u5DE5\u5177\u7C7B",children:["3. \u8BBF\u95EE\u6743\u9650\u5DE5\u5177\u7C7B",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3-\u8BBF\u95EE\u6743\u9650\u5DE5\u5177\u7C7B",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u7528\u6237\u4FE1\u606F\u6301\u4E45\u5316\uFF0C\u83B7\u53D6\u7528\u6237\uFF0C\u8BBE\u7F6E\u7528\u6237\uFF0C\u5220\u9664\u7528\u6237\u4EE5\u53CA\u7528\u6237\u8BBF\u95EE\u9875\u9762\u63A7\u5236"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="models/UserModel.ts"',children:"export class UserModel {\n  id: string;\n  username: string;\n  avatar: string;\n  refreshToken: string;\n  token: string;\n  totalTime: number;\n  nickName: string;\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="common/utils/Auth.ts"',children:"import router from '@ohos.router'\nimport { UserModel } from '../../models/User'\n\nconst USER_KEY = 'interview-user'\nconst PASS_LIST = ['pages/LoginPage']\n\nexport class Auth {\n  static initLocalUser() {\n    PersistentStorage.PersistProp(USER_KEY, '{}')\n  }\n\n  static setUser(user: UserModel) {\n    AppStorage.Set(USER_KEY, JSON.stringify(user))\n  }\n\n  static getUser() {\n    const str = AppStorage.Get<string>(USER_KEY) || '{}'\n    return JSON.parse(str) as UserModel\n  }\n\n  static delUser() {\n    AppStorage.Set(USER_KEY, '{}')\n  }\n\n  // \u9700\u8981\u767B\u5F55\u9875\u9762\u4F7F\u7528\n  static pushUrl(options: router.RouterOptions) {\n    const user = this.getUser()\n    if (!PASS_LIST.includes(options.url) && !user.token) {\n      return router.pushUrl({\n        url: 'pages/LoginPage',\n        params: {\n          ...options.params,\n          return_url: options.url\n        }\n      })\n    }\n    return router.pushUrl(options)\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u5728 entryAbility \u521D\u59CB\u5316\u6301\u4E45\u5316\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="entryAbility.ts"',children:"  onCreate(want, launchParam) {\n    Logger.info('Ability onCreate')\n    Auth.initLocalUser()\n  }\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"4-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u8BF7\u6C42\u5904\u7406",children:["4. \u8BF7\u6C42\u5DE5\u5177\u7C7B-\u8BF7\u6C42\u5904\u7406",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#4-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u8BF7\u6C42\u5904\u7406",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7EF4\u62A4\u57FA\u51C6\u5730\u5740"}),"\n",(0,r.jsx)(e.li,{children:"get \u4F20\u53C2\u62FC\u63A5\u5730\u5740\u4E0A\uFF0C\u5176\u4ED6\u8BF7\u6C42\u65B9\u5F0F\u5728 extraData \u4E0A"}),"\n",(0,r.jsx)(e.li,{children:"\u63D0\u4F9B\u5FEB\u6377\u8C03\u7528\u9759\u6001\u65B9\u6CD5"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'tilte="common/utils/Request.ts"',children:"import http from '@ohos.net.http'\nimport { Auth } from './Auth'\n\nconst BASE_URL = 'https://api-harmony-teach.itheima.net/hm/'\n\nconst req = http.createHttp()\n\nconst request = <T = unknown>(\n  url: string,\n  method: http.RequestMethod = http.RequestMethod.GET,\n  params: object = {}\n) => {\n  let fullUrl = BASE_URL + url\n  const options: http.HttpRequestOptions = {\n    header: {\n      'Content-Type': 'application/json',\n    },\n    readTimeout: 30000,\n    method,\n  }\n\n  // \u5982\u679C\u662F\u5BF9\u8C61\u6570\u636E\u62FC\u63A5URL\uFF0C\u5982\u679C\u662F\u5176\u4ED6\u5219\u643A\u5E26\u5728 extraData\n  if (method === http.RequestMethod.GET) {\n    const urlParams = Object.keys(params).map(key => `${key}=${params[key]}`)\n    fullUrl += `?${urlParams.join('&')}`\n  } else {\n    options.extraData = params\n  }\n\n  // \u643A\u5E26 token\n  const user = Auth.getUser()\n  if (user.token) {\n    options.header['Authorization'] = `Bearer ${user.token}`\n  }\n\n  return req.request(fullUrl, options)\n\n}\n\nexport class Request {\n  static get<T>(url: string, params?: object) {\n    return request<T>(url, http.RequestMethod.GET, params)\n  }\n\n  static post<T>(url: string, params?: object) {\n    return request<T>(url, http.RequestMethod.POST, params)\n  }\n\n  static put<T>(url: string, params?: object) {\n    return request<T>(url, http.RequestMethod.PUT, params)\n  }\n\n  static delete<T>(url: string, params?: object) {\n    return request<T>(url, http.RequestMethod.DELETE, params)\n  }\n}\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"5-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u54CD\u5E94\u5904\u7406",children:["5. \u8BF7\u6C42\u5DE5\u5177\u7C7B-\u54CD\u5E94\u5904\u7406",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#5-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u54CD\u5E94\u5904\u7406",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5904\u7406\u4E1A\u52A1\u5931\u8D25"}),"\n",(0,r.jsx)(e.li,{children:"\u5904\u7406\u767B\u5F55\u5931\u6548"}),"\n",(0,r.jsx)(e.li,{children:"\u6DFB\u52A0\u65E5\u5FD7\u884C\u4E3A"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'tilte="common/utils/Request.ts"',children:"  return req.request(fullUrl, options)\n    .then(res => {\n      if (res.result) {\n        // 1. \u5904\u7406\u54CD\u5E94\n        const response = JSON.parse(res.result as string) as {\n          code: number\n          message: string\n          data: T\n        }\n        if (response.code === 10000) {\n          return response\n        }\n        // 2. \u5904\u7406 token \u5931\u6548\n        if (response.code === 401) {\n          Auth.delUser()\n          router.pushUrl({\n            url: 'pages/Login'\n          }, router.RouterMode.Single)\n        }\n      }\n      return Promise.reject(res.result)\n    })\n    .catch(err => {\n      promptAction.showToast({ message: '\u7F51\u7EDC\u9519\u8BEF' })\n      return Promise.reject(err)\n    })\n    .finally(() => {\n      // \u9500\u6BC1\u8BF7\u6C42\u91CA\u653E\u8D44\u6E90\n      req.destroy()\n    })\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:"  // \u8BF7\u6C42\u65E5\u5FD7\uFF1A\n+  Logger.info(`REQUEST\u2192${url}\u2192${method}`, JSON.stringify(params))\n\n  return req.request(fullUrl, options)\n    .then(res => {\n      if (res.result) {\n        // \u54CD\u5E94\u65E5\u5FD7\uFF1A\n+        Logger.info(`RESPONSE\u2192${url}\u2192${method}`, res.result.toString().substring(0, 250))\n        // 1. \u5904\u7406\u54CD\u5E94\n        const response = JSON.parse(res.result as string) as {\n          code: number\n          message: string\n          data: T\n        }\n        if (response.code === 10000) {\n          return response\n        }\n        // 2. \u5904\u7406 token \u5931\u6548\n        if (response.code === 401) {\n          Auth.delUser()\n          router.pushUrl({\n            url: 'pages/Login'\n          }, router.RouterMode.Single)\n        }\n      }\n      return Promise.reject(res.result)\n    })\n    .catch(err => {\n      promptAction.showToast({ message: '\u7F51\u7EDC\u9519\u8BEF' })\n      // \u9519\u8BEF\u65E5\u5FD7\uFF1A\n+      Logger.error(`RESPONSE\u2192${url}\u2192${method}`, JSON.stringify(err).substring(0, 250))\n      return Promise.reject(err)\n    })\n    .finally(() => {\n      // \u9500\u6BC1\u8BF7\u6C42\u91CA\u653E\u8D44\u6E90\n      req.destroy()\n    })\n\n"})}),"\n",(0,r.jsxs)(e.h2,{id:"ui-\u7BA1\u7406",children:["UI \u7BA1\u7406",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#ui-\u7BA1\u7406",children:"#"})]}),"\n",(0,r.jsxs)(e.h3,{id:"1-\u754C\u9762\u4E00\u591A",children:["1. \u754C\u9762\u4E00\u591A",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#1-\u754C\u9762\u4E00\u591A",children:"#"})]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u4E00\u4E2A\u754C\u9762\u9002\u914D\u591A\u7C7B\u7EC8\u7AEF"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u624B\u673A-\u7AD6\u5C4F"}),"\n",(0,r.jsx)("img",{src:o,width:"200"}),"\n",(0,r.jsx)(e.p,{children:"pad-\u6A2A\u5C4F"}),"\n",(0,r.jsx)("img",{src:a,width:"540"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5A92\u4F53\u67E5\u8BE2 tablet \u4E14\u6A2A\u5C4F"}),"\n",(0,r.jsx)(e.li,{children:"tabs \u7684\u6A2A\u7AD6\u6A21\u5F0F"}),"\n",(0,r.jsx)(e.li,{children:"\u8BBE\u7F6E bar \u7684\u4F4D\u7F6E\u548C\u9AD8\u5EA6"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'{14,15,17,19-23,56-58} title="Index.ets"',children:"import mediaquery from '@ohos.mediaquery'\nclass ToolBarItem {\n  defaultIcon: string | Resource\n  activeIcon: string | Resource\n  label: string\n}\n\n@Entry\n@Component\nstruct Index {\n  @State\n  activeIndex: number = 0\n\n  @State\n  isLandscape: boolean = false\n\n  listenerScreen = mediaquery.matchMediaSync('(orientation: landscape) and (device-type: tablet)')\n\n  aboutToAppear() {\n    this.listenerScreen.on('change', (mediaQueryResult) => {\n      this.isLandscape = mediaQueryResult.matches\n    })\n  }\n\n  toolBars: ToolBarItem[] = [\n    { defaultIcon: $r('app.media.home'), activeIcon: $r('app.media.home_select'), label: '\u9996\u9875' },\n    { defaultIcon: $r('app.media.project'), activeIcon: $r('app.media.project_select'), label: '\u9879\u76EE' },\n    { defaultIcon: $r('app.media.interview'), activeIcon: $r('app.media.interview_select'), label: '\u9762\u7ECF' },\n    { defaultIcon: $r('app.media.mine'), activeIcon: $r('app.media.mine_select'), label: '\u6211\u7684' }\n  ]\n\n  @Builder\n  TabBarBuilder(item: ToolBarItem, index: number) {\n    Column({ space: 4 }) {\n      Image(this.activeIndex === index ? item.activeIcon : item.defaultIcon)\n        .width(24)\n      Text(item.label)\n        .fontSize(12)\n        .fontColor(this.activeIndex === index ? '#000' : '#aaa')\n    }\n  }\n\n  build() {\n    Tabs({\n      index: this.activeIndex,\n    }) {\n      ForEach(this.toolBars, (item: ToolBarItem, index: number) => {\n        TabContent() {\n          Text(index.toString())\n        }\n        .tabBar(this.TabBarBuilder(item, index))\n      })\n    }\n    .barPosition(this.isLandscape ? BarPosition.Start : BarPosition.End)\n    .vertical(this.isLandscape)\n    .barHeight(this.isLandscape ? 400 : 50)\n    .onChange(index => this.activeIndex = index)\n  }\n}\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"2-\u624B\u673A\u4FA7\u9002\u914D",children:["2. \u624B\u673A\u4FA7\u9002\u914D",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#2-\u624B\u673A\u4FA7\u9002\u914D",children:"#"})]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u624B\u673A\u7AEF\u7B49\u6BD4\u4F8B\u7F29\u653E\u9002\u914D\u8BBE\u5907"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u77E5\u9053\u7B49\u6BD4\u4F8B\u7F29\u653E\u539F\u7406"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// \u5B89\u5353\u4E00\u822C 360 \u8BBE\u8BA1\u7A3F 1080\uFF0C\u9762\u8BD5\u5B9D\u5178\u662F 375\nconst designWidth = 375\n// \u4E66\u5199\u5C3A\u5BF8 = \u8BBE\u5907\u5BBD\u5EA6 / \u8BBE\u8BA1\u7A3F\u5BBD\u5EA6 * \u6D4B\u91CF\u5C3A\u5BF8\nconst useSize =  deviceWidth / designWidth * measureSize\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5C01\u88C5\u7B49\u6BD4\u4F8B\u7F29\u653E\u51FD\u6570"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'type="common/utils/Basic.ets"',children:"import display from '@ohos.display'\nimport deviceInfo from '@ohos.deviceInfo'\n\nconst designWidth = 375\nconst devicePhysics = display.getDefaultDisplaySync().width\n\nexport const vp2vp = (originSize: number) => {\n  // \u4E0D\u662FPAD\u662F\u624B\u673A\u7B49\u6BD4\u4F8B\u7F29\u653E\n  if ( deviceInfo.deviceType !== 'tablet' ) {\n    return px2vp(devicePhysics) / designWidth * originSize\n  }\n  return originSize\n}\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4FEE\u6539 Tabs \u76F8\u5173\u5C3A\u5BF8"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:" @Builder\n  TabBarBuilder(item: ToolBarItem, index: number) {\n    Column({ space: vp2vp(4) }) {\n      Image(this.activeIndex === index ? item.activeIcon : item.defaultIcon)\n        .width(vp2vp(24))\n      Text(item.label)\n        .fontSize(vp2vp(12))\n        .fontColor(this.activeIndex === index ? '#000' : '#aaa')\n    }\n  }\n\n  build() {\n    Tabs({\n      index: this.activeIndex,\n    }) {\n      ForEach(this.toolBars, (item: ToolBarItem, index: number) => {\n        TabContent() {\n          Text(index.toString())\n        }\n        .tabBar(this.TabBarBuilder(item, index))\n      })\n    }\n    .barPosition(this.isLandscape ? BarPosition.Start : BarPosition.End)\n    .vertical(this.isLandscape)\n    .barHeight(this.isLandscape ? vp2vp(400) : vp2vp(50))\n    .onChange(index => this.activeIndex = index)\n  }\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"3-\u914D\u7F6E\u6587\u4EF6",children:["3. \u914D\u7F6E\u6587\u4EF6",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3-\u914D\u7F6E\u6587\u4EF6",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5E94\u7528\u540D\u79F0"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4E3B\u9898\u989C\u8272"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u5E94\u7528\u540D\u79F0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",meta:'title="resources/zh_CN/element/string.json"',children:'{\n  "string": [\n    {\n      "name": "module_desc",\n      "value": "\u6A21\u5757\u63CF\u8FF0"\n    },\n    {\n      "name": "EntryAbility_desc",\n      "value": "\u524D\u7AEF\u9762\u8BD5\u5B9D\u5178\uFF0C\u5305\u542B\u5E38\u89C1\u9762\u8BD5\u9898\uFF0C\u548C\u4F01\u4E1A\u771F\u5B9E\u9762\u7ECF"\n    },\n    {\n      "name": "EntryAbility_label",\n      "value": "\u9762\u8BD5\u901A"\n    },\n    {\n      "name": "reason",\n      "value": "\u83B7\u53D6\u901A\u77E5\u6743\u9650"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u4E3B\u9898\u989C\u8272"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",meta:'title="resources/base/element/color.json"',children:'{\n  "color": [\n    {\n      "name": "start_window_background",\n      "value": "#FFFFFF"\n    },\n    {\n      "name": "green",\n      "value": "#27AE60"\n    },\n    {\n      "name": "gray",\n      "value": "#979797"\n    },\n    {\n      "name": "black",\n      "value": "#121826"\n    },\n    {\n      "name": "gray_bg",\n      "value": "#F6F7F9"\n    },\n    {\n      "name": "orange",\n      "value": "#F2994A"\n    },\n    {\n      "name": "blue",\n      "value": "#3266EE"\n    },\n    {\n      "name": "blue_bg",\n      "value": "#EDF2FF"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"4-\u51C6\u5907\u9875\u9762",children:["4. \u51C6\u5907\u9875\u9762",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#4-\u51C6\u5907\u9875\u9762",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u51C6\u5907\u9996\u9875\u3001\u9879\u76EE\u3001\u9762\u7ECF\u3001\u6211\u7684\u56DB\u4E2A tabs \u9875\u9762"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4F7F\u7528 \u9875\u9762\u7EC4\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u51C6\u5907\u7EC4\u4EF6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="views/Index/Home.ets"',children:"@Component\nexport struct Home {\n  build() {\n    Column(){\n      Text('\u9996\u9875')\n    }\n    .width('100%')\n    .height('100%')\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="views/Index/Project.ets"',children:"@Component\nexport struct Project {\n  build() {\n    Column(){\n      Text('\u9879\u76EE')\n    }\n    .width('100%')\n    .height('100%')\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="views/Index/Interview.ets"',children:"@Component\nexport struct Interview {\n  build() {\n    Column(){\n      Text('\u9762\u7ECF')\n    }\n    .width('100%')\n    .height('100%')\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="views/Index/Mine.ets"',children:"@Component\nexport struct Mine {\n  build() {\n    Column(){\n      Text('\u6211\u7684')\n    }\n    .width('100%')\n    .height('100%')\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u4F7F\u7528\u7EC4\u4EF6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="pages/Index.ets"',children:"import { Home } from '../views/Index/Home'\nimport { Project } from '../views/Index/Project'\nimport { Interview } from '../views/Index/Interview'\nimport { Mine } from '../views/Index/Mine'\n\n// ...\n\n        TabContent() {\n          if (index === 0) Home()\n          else if (index === 1) Project()\n          else if (index === 2) Interview()\n          else Mine()\n        }\n        .tabBar(this.TabBarBuilder(item, index))\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"5-\u901A\u7528\u5C55\u793A\u578B\u7EC4\u4EF6",children:["5. \u901A\u7528\u5C55\u793A\u578B\u7EC4\u4EF6",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#5-\u901A\u7528\u5C55\u793A\u578B\u7EC4\u4EF6",children:"#"})]}),"\n",(0,r.jsx)("img",{src:s,width:"240"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u641C\u7D22\u6846\u7EC4\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6253\u5361\u7EC4\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u9AA8\u67B6\u5C4F\u7EC4\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"1\uFF09\u641C\u7D22\u6846\u7EC4\u4EF6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'tilte="common/components/IvSearch.ets"',children:"import { vp2vp } from '../utils/Basic'\n\n@Component\nexport struct IvClock {\n\n  textAlign: FlexAlign = FlexAlign.Start\n\n  build() {\n    Row() {\n      Image($r('app.media.icon_public_search'))\n        .width(vp2vp(15))\n        .aspectRatio(1)\n        .fillColor($r('app.color.gray'))\n\n      Text('\u8BF7\u8F93\u5165\u5173\u952E\u8BCD')\n        .fontSize(vp2vp(14))\n        .fontColor($r('app.color.gray'))\n        .margin({ left: vp2vp(3) })\n    }\n    .layoutWeight(1)\n    .height(vp2vp(28))\n    .backgroundColor($r('app.color.gray_bg'))\n    .borderRadius(vp2vp(14))\n    .padding({ left: vp2vp(10), right: vp2vp(10) })\n    .justifyContent(this.textAlign)\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"2\uFF09\u6253\u5361\u7EC4\u4EF6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'tilte="common/components/IvClock.ets"',children:"import { vp2vp } from '../utils/Basic'\n\n@Component\nexport struct IvClock {\n  @Prop\n  clockCount: number = 0\n\n  build() {\n    Stack({ alignContent: Alignment.End }) {\n      Image(this.clockCount > 0 ? $r('app.media.clocked') : $r('app.media.unclock'))\n        .objectFit(ImageFit.Fill)\n      if (this.clockCount > 0) {\n        Column() {\n          Text('\u5DF2\u8FDE\u7EED\u6253\u5361')\n            .fontSize(8)\n          Text() {\n            Span(this.clockCount.toString())\n              .fontWeight(600)\n              .fontSize(12)\n            Span(' \u5929')\n              .fontSize(10)\n          }\n        }\n        .width('50')\n      } else {\n        Text('\u6253\u5361')\n          .width('50')\n          .textAlign(TextAlign.Center)\n          .fontSize(vp2vp(18))\n          .fontWeight(500)\n          .fontColor('#333C4F')\n          .margin({ bottom: vp2vp(4) })\n      }\n    }\n    .width(vp2vp(74))\n    .height(vp2vp(28))\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'title="views/Index/Home.ets"',children:"import { IvClock } from '../../common/components/IvClock'\nimport { IvSearch } from '../../common/components/IvSearch'\n\n@Component\nexport struct Home {\n  build() {\n    Column() {\n      Row({ space: 15 }) {\n        IvSearch()\n        IvClock()\n      }\n      .padding(15)\n\n      Text('\u9996\u9875')\n    }\n    .width('100%')\n    .height('100%')\n  }\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"3\uFF09\u9AA8\u67B6\u5C4F\u7EC4\u4EF6"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u80CC\u666F\u6E10\u53D8 linearGradient"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"linearGradient({\n// \u89D2\u5EA6\uFF0C\u9ED8\u8BA4 180\nangle?: number | string,\n// \u989C\u8272\uFF0C\u6BD4\u4F8B\ncolors: Array<[ResourceColor, number]>,\n})\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7EC4\u4EF6\u7ED3\u6784"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",meta:'tilte="common/components/IvSkeleton.ets"',children:"import { vp2vp } from '../utils/Basic'\n\n@Component\nexport struct IvSkeleton {\n  widthValue: number | string = 100\n  heightValue: number | string = 20\n  @State\n  translateValue: string = '-100%'\n\n  build() {\n    Stack() {\n      Text()\n        .backgroundColor($r('app.color.gray_bg'))\n        .height('100%')\n        .width('100%')\n      Text()\n        .linearGradient({\n          angle: 90,\n          colors: [\n            ['rgba(255,255,255,0)', 0],\n            ['rgba(255,255,255,0.5)', 0.5],\n            ['rgba(255,255,255,0)', 1]\n          ]\n        })\n        .height('100%')\n        .width('100%')\n        .translate({\n          x: this.translateValue,\n        })\n        .animation({\n          duration: 1500,\n          iterations: -1\n        })\n    }\n    .height(this.heightValue)\n    .width(this.widthValue)\n    .borderRadius(vp2vp(4))\n    .clip(true)\n    .onAppear(() => {\n      this.translateValue = '100%'\n    })\n  }\n}\n"})})]})}function g(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.useMDXComponents)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(m,{...n})}):m(n)}var j=g;g.__RSPRESS_PAGE_META={},g.__RSPRESS_PAGE_META["project%2Findex.mdx"]={toc:[{text:"\u9879\u76EE\u7269\u6599",id:"\u9879\u76EE\u7269\u6599",depth:2},{text:"\u57FA\u7840\u80FD\u529B",id:"\u57FA\u7840\u80FD\u529B",depth:2},{text:"1. \u521B\u5EFA\u9879\u76EE",id:"1-\u521B\u5EFA\u9879\u76EE",depth:3},{text:"2. \u65E5\u5FD7\u5DE5\u5177\u7C7B",id:"2-\u65E5\u5FD7\u5DE5\u5177\u7C7B",depth:3},{text:"3. \u8BBF\u95EE\u6743\u9650\u5DE5\u5177\u7C7B",id:"3-\u8BBF\u95EE\u6743\u9650\u5DE5\u5177\u7C7B",depth:3},{text:"4. \u8BF7\u6C42\u5DE5\u5177\u7C7B-\u8BF7\u6C42\u5904\u7406",id:"4-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u8BF7\u6C42\u5904\u7406",depth:3},{text:"5. \u8BF7\u6C42\u5DE5\u5177\u7C7B-\u54CD\u5E94\u5904\u7406",id:"5-\u8BF7\u6C42\u5DE5\u5177\u7C7B-\u54CD\u5E94\u5904\u7406",depth:3},{text:"UI \u7BA1\u7406",id:"ui-\u7BA1\u7406",depth:2},{text:"1. \u754C\u9762\u4E00\u591A",id:"1-\u754C\u9762\u4E00\u591A",depth:3},{text:"2. \u624B\u673A\u4FA7\u9002\u914D",id:"2-\u624B\u673A\u4FA7\u9002\u914D",depth:3},{text:"3. \u914D\u7F6E\u6587\u4EF6",id:"3-\u914D\u7F6E\u6587\u4EF6",depth:3},{text:"4. \u51C6\u5907\u9875\u9762",id:"4-\u51C6\u5907\u9875\u9762",depth:3},{text:"5. \u901A\u7528\u5C55\u793A\u578B\u7EC4\u4EF6",id:"5-\u901A\u7528\u5C55\u793A\u578B\u7EC4\u4EF6",depth:3}],title:"\u9762\u8BD5\u5B9D\u5178APP-\u901A\u7528\u8BBE\u65BD",frontmatter:{title:"HM - \u9762\u8BD5\u5B9D\u5178APP-\u901A\u7528\u8BBE\u65BD"}}}}]);