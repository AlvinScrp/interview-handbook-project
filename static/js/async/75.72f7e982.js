(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["75"],{94502:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return l}});var i=t("69051"),s=t("72525");function r(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",h3:"h3",p:"p",pre:"pre",code:"code"},(0,s.useMDXComponents)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"\u9762\u8BD5\u5B9D\u5178app-\u9996\u9875\u6A21\u5757",children:["\u9762\u8BD5\u5B9D\u5178APP-\u9996\u9875\u6A21\u5757",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9762\u8BD5\u5B9D\u5178app-\u9996\u9875\u6A21\u5757",children:"#"})]}),"\n",(0,i.jsxs)(e.h2,{id:"\u9996\u9875\u6A21\u5757",children:["\u9996\u9875\u6A21\u5757",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9996\u9875\u6A21\u5757",children:"#"})]}),"\n",(0,i.jsxs)(e.h3,{id:"1-\u9759\u6001\u7ED3\u6784",children:["1. \u9759\u6001\u7ED3\u6784",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#1-\u9759\u6001\u7ED3\u6784",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"1\uFF09\u8F6E\u64AD\u56FE"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"Row() {\n  Swiper() {\n    Flex() {\n      Image('/common/images/banner_ai.png')\n        .objectFit(ImageFit.Fill)\n    }\n    .padding({ left: vp2vp(15), right: vp2vp(15) })\n\n    Flex() {\n      Image('/common/images/banner_pj.png')\n        .objectFit(ImageFit.Fill)\n    }\n    .padding({ left: vp2vp(15), right: vp2vp(15) })\n\n    Flex() {\n      Image('/common/images/banner_qa.png')\n        .objectFit(ImageFit.Fill)\n    }\n    .padding({ left: vp2vp(15), right: vp2vp(15) })\n  }\n  .autoPlay(true)\n  .indicator(false)\n}\n.aspectRatio(2.8)\n"})}),"\n",(0,i.jsx)(e.p,{children:"2\uFF09\u9AA8\u67B6\u6548\u679C"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"  @Builder\n  SkeletonBuilder() {\n    Column() {\n      Row({ space: vp2vp(15) }) {\n        IvSkeleton()\n        IvSkeleton({ widthValue: vp2vp(60) })\n        IvSkeleton({ widthValue: vp2vp(80) })\n      }\n      .width('100%')\n      .margin({ bottom: vp2vp(15) })\n\n      List({ space: vp2vp(15) }){\n        ForEach([1, 2, 3, 4, 5, 6, 7], () => {\n          ListItem(){\n            Column({ space: vp2vp(15) }){\n              Row({ space: vp2vp(15) }){\n                IvSkeleton({ widthValue: vp2vp(30) })\n                IvSkeleton({ widthValue: '100%' }).layoutWeight(1)\n              }\n              Row({ space: vp2vp(15) }){\n                IvSkeleton({ widthValue: vp2vp(50) })\n                IvSkeleton({ widthValue: vp2vp(50) })\n                IvSkeleton({ widthValue: vp2vp(50) })\n              }\n              .width('100%')\n            }\n            .padding({ top: vp2vp(10), bottom: vp2vp(10) })\n          }\n        })\n      }\n      .divider({ strokeWidth: 0.5, color: $r('app.color.gray_bg') })\n    }\n    .width('100%')\n    .padding(vp2vp(15))\n    .layoutWeight(1)\n  }\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"  @State\n  loading: boolean = false\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"  if (this.loading) {\n    this.SkeletonBuilder()\n  } else {\n    // Tabs\n  }\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"2-\u5206\u7C7B-tabs-\u52A8\u6001\u5C55\u793A",children:["2. \u5206\u7C7B Tabs \u52A8\u6001\u5C55\u793A",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#2-\u5206\u7C7B-tabs-\u52A8\u6001\u5C55\u793A",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"1\uFF09\u6570\u636E\u7C7B\u578B"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="models/QuestionTypeModel.ets"',children:"export class TagModel {\n  tagName: string\n  nameColor: string\n  borderColor: string\n}\n\nexport class QuestionTypeModel {\n  public id: number\n  public name: string\n  public icon?: string\n  public describeInfo?: string\n  public displayNewestFlag?: 0 | 1\n  public tags?: TagModel[]\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"3\uFF09 \u83B7\u53D6\u6570\u636E"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"  @State\n  questionTypeList: QuestionTypeModel[] = []\n  @State\n  activeIndex: number = 0\n\n  aboutToAppear() {\n    this.loading = true\n    Request.get<QuestionTypeModel[]>('question/type')\n      .then(res => {\n        this.questionTypeList = res.data\n      })\n      .finally(() => {\n        this.loading = false\n      })\n  }\n"})}),"\n",(0,i.jsx)(e.p,{children:"4\uFF09\u6E32\u67D3 tabs"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"    if (this.loading) {\n        this.SkeletonBuilder()\n      } else {\n        Tabs() {\n          ForEach(this.questionTypeList, (item: QuestionTypeModel, index) => {\n            TabContent() {\n              // \u5217\u8868\u7EC4\u4EF6\n            }\n            .tabBar(this.TabItemBuilder(item, index))\n            .height('100%')\n          })\n        }\n        .layoutWeight(1)\n        .barMode(BarMode.Scrollable)\n        .onChange(i => this.activeIndex = i)\n      }\n"})}),"\n",(0,i.jsx)(e.p,{children:"5\uFF09\u81EA\u5B9A\u4E49\u6784\u5EFA\u51FD\u6570"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"\n  @Builder\n  TabItemBuilder(q: QuestionTypeModel, index: number) {\n    Row() {\n      Stack({ alignContent: Alignment.Bottom }) {\n        Text(q.name)\n          .fontSize(vp2vp(15))\n          .height(vp2vp(44))\n          .fontColor(this.activeIndex === index ? $r('app.color.black') : $r('app.color.gray'))\n        Text()\n          .width(this.activeIndex === index ? vp2vp(20) : 0)\n          .height(vp2vp(2))\n          .backgroundColor($r('app.color.black'))\n          .animation({ duration: this.activeIndex === index ? 300 : 0 })\n      }\n      .padding({ left: vp2vp(index === 0 ? 15 : 0) })\n\n      if (q.displayNewestFlag === 1) {\n        Image($r('app.media.new'))\n          .width(vp2vp(34))\n          .height(vp2vp(14))\n          .padding({ left: vp2vp(5) })\n      }\n    }\n    .padding({ right: vp2vp(15) })\n  }\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"3-\u8BD5\u9898\u5217\u8868\u7EC4\u4EF6\u62BD\u53D6",children:["3. \u8BD5\u9898\u5217\u8868\u7EC4\u4EF6\u62BD\u53D6",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3-\u8BD5\u9898\u5217\u8868\u7EC4\u4EF6\u62BD\u53D6",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"1\uFF09\u6807\u7B7E\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="common/components/IvTag.ets"',children:"import { vp2vp } from '../utils/Basic'\n\n@Component\nexport struct IvTag {\n  text: string\n  difficulty: number = 1\n\n  getTag() {\n    if (this.difficulty === 3 || this.difficulty === 4) {\n      return { text: '\u4E00\u822C', color: $r('app.color.blue') }\n    } else if (this.difficulty === 5) {\n      return { text: '\u56F0\u96BE', color: $r('app.color.orange') }\n    }\n    return { text: this.text ? this.text : '\u7B80\u5355', color: $r('app.color.green') }\n  }\n\n  build() {\n    Text(this.getTag().text)\n      .fontColor(this.getTag().color)\n      .fontSize(vp2vp(10))\n      .width(vp2vp(34))\n      .height(vp2vp(18))\n      .backgroundColor($r('app.color.gray_bg'))\n      .borderRadius(vp2vp(2))\n      .textAlign(TextAlign.Center)\n      .margin({ right: vp2vp(7) })\n  }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"2\uFF09\u8BD5\u9898\u9879\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="common/components/IvQuestionItem.ets"',children:"import { Auth } from '../utils/Auth'\nimport { vp2vp } from '../utils/Basic'\nimport { IvTag } from './IvTag'\n\n@Component\nexport struct IvQuestionItem {\n  @Builder\n  SplitBuilder() {\n    Text('|')\n      .width(vp2vp(30))\n      .textAlign(TextAlign.Center)\n      .fontColor('#C3C3C5')\n      .fontSize(vp2vp(12))\n  }\n\n  @Builder\n  TextBuilder(text: string) {\n    Text(text)\n      .fontColor('#C3C3C5')\n      .fontSize(vp2vp(13))\n  }\n\n  build() {\n    Column() {\n      Row() {\n        IvTag({ difficulty: 4 })\n        Text('\u95ED\u5305\u4F60\u662F\u600E\u4E48\u7406\u89E3\u7684\uFF1F')\n          .fontSize(vp2vp(16))\n          .layoutWeight(1)\n          .textOverflow({ overflow: TextOverflow.Ellipsis })\n          .maxLines(1)\n      }.width('100%')\n\n      Row() {\n        this.TextBuilder(`\u70B9\u8D5E 100`)\n        this.SplitBuilder()\n        this.TextBuilder(`\u6D4F\u89C8 200`)\n        this.SplitBuilder()\n        this.TextBuilder(`\u5DF2\u770B\u8FC7`)\n      }\n      .width('100%')\n      .margin({ top: vp2vp(10) })\n    }\n    .height(vp2vp(80))\n    .justifyContent(FlexAlign.Center)\n    .width('100%')\n    .onClick(() => {\n      Auth.pushUrl({\n        url: 'pages/QuestionDetail',\n      })\n    })\n  }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"3\uFF09\u8BD5\u9898\u5217\u8868\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="common/components/IvQuestionList.ets"',children:"import { vp2vp } from '../utils/Basic'\nimport { IvQuestionItem } from './IvQuestionItem'\n\n@Component\nexport struct IvQuestionList {\n  build() {\n    List() {\n      ForEach([1, 2, 3, 4, 5, 6, 7, 8], () => {\n        ListItem() {\n          IvQuestionItem()\n        }\n      })\n    }\n    .divider({\n      strokeWidth: 0.5,\n      color: $r('app.color.gray_bg')\n    })\n    .padding({ left: vp2vp(15), right: vp2vp(15) })\n    .height('100%')\n    .width('100%')\n  }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"4\uFF09\u9996\u9875\u4F7F\u7528\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'{4} tilte="views/Index/Home.ets"',children:"          ForEach(this.questionTypeList, (item: QuestionTypeModel, index) => {\n            TabContent() {\n              // \u5217\u8868\u7EC4\u4EF6\n              IvQuestionList()\n            }\n            .tabBar(this.TabItemBuilder(item, index))\n            .height('100%')\n          })\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"4-\u8BD5\u9898\u5217\u8868\u52A0\u8F7D",children:["4. \u8BD5\u9898\u5217\u8868\u52A0\u8F7D",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#4-\u8BD5\u9898\u5217\u8868\u52A0\u8F7D",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"1\uFF09\u8BF7\u6C42\u53C2\u6570\u7C7B\u578B"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'tilte="models/QuestionItemModel.ets"',children:"export class QueryQuestionListParams {\n  type: number\n  page: number\n  questionBankType: number\n  sort?: number\n  keyword?: string\n}\n\n@Observed\nexport class QuestionItemModel {\n  public id: string\n  public stem: string\n  public difficulty: number\n  public likeCount: number\n  public views: number\n  public readFlag?: 0 | 1\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"2\uFF09\u8BD5\u9898\u5217\u8868\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="common/components/IvQuestionList.ets"',children:"import promptAction from '@ohos.promptAction'\nimport { QueryQuestionListParams, QuestionItemModel } from '../../models/QuestionItemModel'\nimport { vp2vp } from '../utils/Basic'\nimport { Request } from '../utils/Request'\nimport { IvQuestionItem } from './IvQuestionItem'\n\n@Component\nexport struct IvQuestionList {\n  @Prop\n  questionType: number\n  @Prop\n  @Watch('initQuestionList')\n  activeIndex: number\n  @Prop\n  selfIndex: number\n\n  params: QueryQuestionListParams = {\n    questionBankType: 10,\n    type: this.questionType,\n    page: 1,\n    sort: 0,\n  }\n  @State\n  questionList: QuestionItemModel[] = []\n\n  aboutToAppear() {\n    this.initQuestionList()\n  }\n\n  initQuestionList () {\n    if (this.activeIndex === this.selfIndex) {\n      this.getQuestionList(this.params)\n    }\n  }\n\n  getQuestionList(params: QueryQuestionListParams) {\n    return Request.get<{\n      total: number,\n      pageTotal: number,\n      rows: QuestionItemModel[]\n    }>('question/list', params)\n      .then(res => {\n        this.questionList = res.data.rows\n      })\n      .catch(e => {\n        promptAction.showToast({ message: JSON.stringify(e) })\n      })\n  }\n\n  build() {\n    List() {\n      ForEach(this.questionList, (item: QuestionItemModel) => {\n        ListItem() {\n          IvQuestionItem({ item })\n        }\n      },\n        ({id, likeCount, readFlag, views}: QuestionItemModel) => {\n          return JSON.stringify({ id, likeCount, readFlag, views })\n        }\n      )\n    }\n    .divider({\n      strokeWidth: 0.5,\n      color: $r('app.color.gray_bg')\n    })\n    .padding({ left: vp2vp(15), right: vp2vp(15) })\n    .height('100%')\n    .width('100%')\n  }\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"3\uFF09\u8BD5\u9898\u9009\u9879\u7EC4\u4EF6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",meta:'title="common/components/IvQuestionList.ets"',children:"import { QuestionItemModel } from '../../models/QuestionItemModel'\nimport { Auth } from '../utils/Auth'\nimport { vp2vp } from '../utils/Basic'\nimport { IvTag } from './IvTag'\n\n@Component\nexport struct IvQuestionItem {\n  @ObjectLink\n  item: QuestionItemModel\n\n  @Builder\n  SplitBuilder() {\n    Text('|')\n      .width(vp2vp(30))\n      .textAlign(TextAlign.Center)\n      .fontColor('#C3C3C5')\n      .fontSize(vp2vp(12))\n  }\n\n  @Builder\n  TextBuilder(text: string) {\n    Text(text)\n      .fontColor('#C3C3C5')\n      .fontSize(vp2vp(13))\n  }\n\n  build() {\n    Column() {\n      Row() {\n        IvTag({ difficulty: this.item.difficulty })\n        Text(this.item.stem)\n          .fontSize(vp2vp(16))\n          .layoutWeight(1)\n          .textOverflow({ overflow: TextOverflow.Ellipsis })\n          .maxLines(1)\n      }.width('100%')\n\n      Row() {\n        this.TextBuilder(`\u70B9\u8D5E ${this.item.likeCount}`)\n        this.SplitBuilder()\n        this.TextBuilder(`\u6D4F\u89C8 ${this.item.views}`)\n        this.SplitBuilder()\n        if (this.item.readFlag === 1) {\n          this.TextBuilder(`\u5DF2\u770B\u8FC7`)\n        }\n      }\n      .width('100%')\n      .margin({ top: vp2vp(10) })\n    }\n    .height(vp2vp(80))\n    .justifyContent(FlexAlign.Center)\n    .width('100%')\n    .onClick(() => {\n      Auth.pushUrl({\n        url: 'pages/QuestionDetail',\n        params: this.item\n      })\n    })\n  }\n}\n"})})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.useMDXComponents)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(r,{...n})}):r(n)}var l=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["project%2Fhome.mdx"]={toc:[{text:"\u9996\u9875\u6A21\u5757",id:"\u9996\u9875\u6A21\u5757",depth:2},{text:"1. \u9759\u6001\u7ED3\u6784",id:"1-\u9759\u6001\u7ED3\u6784",depth:3},{text:"2. \u5206\u7C7B Tabs \u52A8\u6001\u5C55\u793A",id:"2-\u5206\u7C7B-tabs-\u52A8\u6001\u5C55\u793A",depth:3},{text:"3. \u8BD5\u9898\u5217\u8868\u7EC4\u4EF6\u62BD\u53D6",id:"3-\u8BD5\u9898\u5217\u8868\u7EC4\u4EF6\u62BD\u53D6",depth:3},{text:"4. \u8BD5\u9898\u5217\u8868\u52A0\u8F7D",id:"4-\u8BD5\u9898\u5217\u8868\u52A0\u8F7D",depth:3}],title:"\u9762\u8BD5\u5B9D\u5178APP-\u9996\u9875\u6A21\u5757",frontmatter:{title:"HM - \u9762\u8BD5\u5B9D\u5178APP-\u9996\u9875\u6A21\u5757"}}}}]);